<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
  <title>منصة الذكاء الاصطناعي للأعمال | AI Business Platform</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* ...existing code... */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f4f7f9;
      color: #222;
      direction: ltr;
      transition: direction 0.3s;
    }
    .container {
      max-width: 900px;
      margin: 2rem auto;
      padding: 1.5rem;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 16px rgba(0,91,150,0.07);
    }
    header {
      text-align: center;
      margin-bottom: 2rem;
    }
    .lang-toggle {
      float: right;
      margin-top: 1rem;
      margin-left: 1rem;
    }
    .lang-toggle button {
      background: #e3eaf3;
      border: none;
      border-radius: 6px;
      padding: 0.5rem 1rem;
      margin-left: 0.5rem;
      font-weight: 600;
      cursor: pointer;
      color: #005b96;
      transition: background 0.2s;
    }
    .lang-toggle button.active {
      background: #005b96;
      color: #fff;
    }
    section {
      margin-bottom: 2.5rem;
      padding: 1.5rem 1rem;
      border: 1px solid #e3eaf3;
      border-radius: 12px;
      background: #fafcff;
    }
    h2 {
      margin-top: 0;
      color: #005b96;
    }
    label {
      display: block;
      margin: 1rem 0 0.5rem 0;
      font-weight: 500;
    }
    textarea, input, select {
      width: 100%;
      padding: 0.7rem;
      border: 1px solid #cfd8dc;
      border-radius: 6px;
      font-size: 1rem;
      margin-bottom: 1rem;
      box-sizing: border-box;
      background: #fff;
      color: #222;
    }
    .output-box {
      background: #f4f7f9;
      border: 1px solid #e3eaf3;
      border-radius: 8px;
      padding: 1rem;
      min-height: 3rem;
      margin-top: 0.5rem;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      white-space: pre-wrap;
    }
    .section-actions {
      text-align: right;
    }
    button[type="submit"] {
      background: #005b96;
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 0.7rem 1.5rem;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }
    button[type="submit"]:hover {
      background: #003f6b;
    }
    @media (max-width: 600px) {
      .container {
        padding: 0.5rem;
      }
      section {
        padding: 1rem 0.3rem;
      }
      .lang-toggle {
        float: none;
        text-align: center;
        display: block;
        margin: 1rem auto;
      }
    }
    /* RTL support */
    body[dir="rtl"] {
      direction: rtl;
    }
    body[dir="rtl"] .lang-toggle {
      float: left;
      margin-left: 0;
      margin-right: 1rem;
    }
    body[dir="rtl"] section, body[dir="rtl"] .output-box, body[dir="rtl"] input, body[dir="rtl"] textarea, body[dir="rtl"] select {
      text-align: right;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="lang-toggle">
      <button id="en-btn" class="active">English</button>
      <button id="ar-btn">العربية</button>
    </div>
    <header>
      <h1 id="main-title">AI Business Platform</h1>
      <div id="main-subtitle" style="color:#555;">Empowering your business with AI-driven insights</div>
    </header>

    <!-- R&D Intelligence Section -->
    <section id="rd-section">
      <h2 id="rd-title">R&D Intelligence</h2>
      <div id="rd-subtitle" style="margin-bottom:1rem;color:#666;">Smart research assistant for innovation and technology.</div>
      <form id="rd-form">
        <label for="rd-input" id="rd-input-label">Paste text or upload a document:</label>
        <textarea id="rd-input" rows="5" placeholder="Paste your technical document here..."></textarea>
        <input type="file" id="rd-file" accept=".pdf,.doc,.docx,.txt" style="margin-bottom:1rem;">
        <div class="section-actions">
          <button type="submit" id="rd-submit">Analyze</button>
        </div>
      </form>
      <div id="rd-output-label" style="margin-top:1rem;font-weight:500;">AI Output:</div>
      <div class="output-box" id="rd-output"></div>
      <div style="font-size:0.95em;color:#888;margin-top:0.5rem;">
        <strong>Example prompt:</strong> Summarize this technical document and generate 3 new R&D ideas.
      </div>
    </section>

    <!-- Marketing & CRM Section -->
    <section id="marketing-section">
      <h2 id="marketing-title">Smart Marketing & CRM</h2>
      <div id="marketing-subtitle" style="margin-bottom:1rem;color:#666;">Marketing insights and CRM assistant powered by AI.</div>
      <form id="marketing-form">
        <label for="marketing-feature" id="marketing-feature-label">Select feature:</label>
        <select id="marketing-feature">
          <option value="campaign">Campaign suggestion generator</option>
          <option value="sentiment">Customer sentiment analyzer</option>
          <option value="crm">CRM content helper</option>
        </select>
        <label for="marketing-input" id="marketing-input-label">Enter details:</label>
        <input type="text" id="marketing-input" placeholder="Describe your product, audience, or campaign goal...">
        <div class="section-actions">
          <button type="submit" id="marketing-submit">Generate</button>
        </div>
      </form>
      <div id="marketing-output-label" style="margin-top:1rem;font-weight:500;">AI Output:</div>
      <div class="output-box" id="marketing-output"></div>
      <div style="font-size:0.95em;color:#888;margin-top:0.5rem;">
        <strong>Example prompt:</strong> Generate a customer retention campaign for a tech product targeting young adults.
      </div>
    </section>
  </div>
  <script>
    // --- Bilingual content ---
    const translations = {
      en: {
        mainTitle: "AI Business Platform",
        mainSubtitle: "Empowering your business with AI-driven insights",
        rdTitle: "R&D Intelligence",
        rdSubtitle: "Smart research assistant for innovation and technology.",
        rdInputLabel: "Paste text or upload a document:",
        rdSubmit: "Analyze",
        rdOutputLabel: "AI Output:",
        rdExample: "Summarize this technical document and generate 3 new R&D ideas.",
        marketingTitle: "Smart Marketing & CRM",
        marketingSubtitle: "Marketing insights and CRM assistant powered by AI.",
        marketingFeatureLabel: "Select feature:",
        marketingInputLabel: "Enter details:",
        marketingSubmit: "Generate",
        marketingOutputLabel: "AI Output:",
        marketingExample: "Generate a customer retention campaign for a tech product targeting young adults.",
        features: [
          "Campaign suggestion generator",
          "Customer sentiment analyzer",
          "CRM content helper"
        ]
      },
      ar: {
        mainTitle: "منصة الذكاء الاصطناعي للأعمال",
        mainSubtitle: "تمكين أعمالك برؤى مدعومة بالذكاء الاصطناعي",
        rdTitle: "الابتكار والتطوير",
        rdSubtitle: "مساعد بحث ذكي للابتكار والتقنية.",
        rdInputLabel: "الصق النص أو قم برفع ملف:",
        rdSubmit: "تحليل",
        rdOutputLabel: "مخرجات الذكاء الاصطناعي:",
        rdExample: "لخص هذا المستند التقني وابتكر 3 أفكار جديدة للبحث والتطوير.",
        marketingTitle: "التسويق الذكي والعملاء",
        marketingSubtitle: "مساعد التسويق وتحليل العملاء مدعوم بالذكاء الاصطناعي.",
        marketingFeatureLabel: "اختر الميزة:",
        marketingInputLabel: "أدخل التفاصيل:",
        marketingSubmit: "توليد",
        marketingOutputLabel: "مخرجات الذكاء الاصطناعي:",
        marketingExample: "أنشئ حملة للاحتفاظ بالعملاء لمنتج تقني يستهدف الشباب.",
        features: [
          "مولد اقتراحات الحملات",
          "محلل مشاعر العملاء",
          "مساعد محتوى إدارة علاقات العملاء"
        ]
      }
    };

    let currentLang = 'en';

    function setLanguage(lang) {
      currentLang = lang;
      document.documentElement.lang = lang;
      document.body.dir = lang === 'ar' ? 'rtl' : 'ltr';

      // Toggle button active state
      document.getElementById('en-btn').classList.toggle('active', lang === 'en');
      document.getElementById('ar-btn').classList.toggle('active', lang === 'ar');

      // Update all text content
      const t = translations[lang];
      document.getElementById('main-title').textContent = t.mainTitle;
      document.getElementById('main-subtitle').textContent = t.mainSubtitle;
      document.getElementById('rd-title').textContent = t.rdTitle;
      document.getElementById('rd-subtitle').textContent = t.rdSubtitle;
      document.getElementById('rd-input-label').textContent = t.rdInputLabel;
      document.getElementById('rd-submit').textContent = t.rdSubmit;
      document.getElementById('rd-output-label').textContent = t.rdOutputLabel;
      document.querySelector('#rd-section .output-box').setAttribute('placeholder', t.rdOutputLabel);
      document.querySelector('#rd-section strong').nextSibling.textContent = " " + t.rdExample;

      document.getElementById('marketing-title').textContent = t.marketingTitle;
      document.getElementById('marketing-subtitle').textContent = t.marketingSubtitle;
      document.getElementById('marketing-feature-label').textContent = t.marketingFeatureLabel;
      document.getElementById('marketing-input-label').textContent = t.marketingInputLabel;
      document.getElementById('marketing-submit').textContent = t.marketingSubmit;
      document.getElementById('marketing-output-label').textContent = t.marketingOutputLabel;
      document.querySelector('#marketing-section strong').nextSibling.textContent = " " + t.marketingExample;

      // Update select options
      const featureSelect = document.getElementById('marketing-feature');
      featureSelect.innerHTML = '';
      t.features.forEach((f, i) => {
        const opt = document.createElement('option');
        opt.value = ['campaign', 'sentiment', 'crm'][i];
        opt.textContent = f;
        featureSelect.appendChild(opt);
      });
    }

    document.getElementById('en-btn').onclick = () => setLanguage('en');
    document.getElementById('ar-btn').onclick = () => setLanguage('ar');

    // --- Gemini API Placeholder Functions ---
    async function callGeminiAPI(promptText, section) {
      // TODO: Replace this with actual Gemini API integration
      console.log(`[Gemini API] Section: ${section}, Prompt:`, promptText);
      // Simulate API delay
      await new Promise(res => setTimeout(res, 1200));
      // Return a placeholder response
      if (section === 'rd') {
        return currentLang === 'ar'
          ? "هذه استجابة تجريبية من الذكاء الاصطناعي لقسم الابتكار والتطوير."
          : "This is a sample AI response for the R&D Intelligence section.";
      } else {
        return currentLang === 'ar'
          ? "هذه استجابة تجريبية من الذكاء الاصطناعي لقسم التسويق والعملاء."
          : "This is a sample AI response for the Smart Marketing & CRM section.";
      }
    }

    // --- R&D Form Handler ---
    document.getElementById('rd-form').onsubmit = async function(e) {
      e.preventDefault();
      const text = document.getElementById('rd-input').value.trim();
      const fileInput = document.getElementById('rd-file');
      let promptText = text;

      // If file uploaded, read its content (simulate for now)
      if (fileInput.files.length > 0) {
        // TODO: Integrate file reading and text extraction (PDF/DOC)
        promptText = currentLang === 'ar'
          ? "تم رفع ملف. (هنا سيتم استخراج النص من الملف للمعالجة لاحقاً)"
          : "File uploaded. (Text extraction from file will be handled here in the future)";
      }

      if (!promptText) {
        document.getElementById('rd-output').textContent = currentLang === 'ar'
          ? "يرجى إدخال نص أو رفع ملف."
          : "Please enter text or upload a file.";
        return;
      }

      document.getElementById('rd-output').textContent = currentLang === 'ar'
        ? "جاري المعالجة..."
        : "Processing...";
      const aiResponse = await callGeminiAPI(promptText, 'rd');
      document.getElementById('rd-output').textContent = aiResponse;
    };

    // --- Marketing Form Handler ---
    document.getElementById('marketing-form').onsubmit = async function(e) {
      e.preventDefault();
      const feature = document.getElementById('marketing-feature').value;
      const input = document.getElementById('marketing-input').value.trim();
      if (!input) {
        document.getElementById('marketing-output').textContent = currentLang === 'ar'
          ? "يرجى إدخال التفاصيل."
          : "Please enter details.";
        return;
      }
      let promptText = '';
      // Example prompt construction
      if (feature === 'campaign') {
        promptText = currentLang === 'ar'
          ? `أنشئ اقتراح حملة تسويقية بناءً على: ${input}`
          : `Generate a marketing campaign suggestion based on: ${input}`;
      } else if (feature === 'sentiment') {
        promptText = currentLang === 'ar'
          ? `حلل مشاعر العملاء بناءً على: ${input}`
          : `Analyze customer sentiment based on: ${input}`;
      } else {
        promptText = currentLang === 'ar'
          ? `ساعد في إنشاء محتوى CRM بناءً على: ${input}`
          : `Help generate CRM content based on: ${input}`;
      }

      document.getElementById('marketing-output').textContent = currentLang === 'ar'
        ? "جاري المعالجة..."
        : "Processing...";
      const aiResponse = await callGeminiAPI(promptText, 'marketing');
      document.getElementById('marketing-output').textContent = aiResponse;
    };

    // --- Initialize page in English ---
    setLanguage('en');
  </script>
</body>
</html>